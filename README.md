<div dir="rtl">
 
# wema-player

A simple music player

## معرفی

یک موزیک پلیر (ساده و گوگولی) با امکانات اولیه
* اضافه کردن موزیک
* قابلیت پخش wav و mp3
* اضافه کردن / حذف پلی لیست
* ریپیت، صف وشافل
* .....

## نصب
برای نصب پکیج های زیر را اضافه کنید
##### اگر pip را ندارید از لینک زیر کمک بگیرید
[نصب pip](https://pip.pypa.io/en/stable/installing/)

<div dir="ltr">
 
### 1 - install PySide2
```
pip install PySide2
```
### 2 - install PyQt5
```
pip install PyQt5
```
### 3 - install tinytag
```
pip install tinytag
```
### 4 - install pygame
```
pip install pygame
```
</div>

## گزارش پروژه
### ساختار پروژه 
Ui  پروژه باQt creator  ساخته شده است و سپس با pyuic5 به کد پایتون تبدیل شده است.
تمامی فایل های پروژه در پوشه assets قرار دارد. در این پوشه، پوشه های زیر قرار دارد:
-	Icon: تمامی آیکون های دکمه ها
-	Images: شامل یک فایل cover.jpg است برای موزیک هایی که کاور ندارند.
-	lib: فایل های json برای پلی لیست ها
-	tmp: کاور موزیک در حال پخش با نام album_art.jpg در این پوشه ذخیره میشود.

### نحوه ی کارکردن پروژه
### کلاس  ui_wema  
این کلاس شامل چندین تابع می باشد. اولین تابع کلاس که فراخوانی میشود، کلاس set_up می باشد که در این تابع، دکمه ها و ویجت ها و محل و کارکرد آن ها تعیین می شود.
### کلاس mythread
این کلاس برای ایجاد یک thread برای اجرای یک لوپ در کنار برنامه است.چون اگر یک لوپ درحین برنامه اتفاق بیفتد، لوپ اصلی اجرای برنامه به هم خورده و برای مدتی که لوپ فرعی اجرا میشود،اتفاقی نمی افتد. برای همین این کلاس با یک تابع ایجاد شده است. این لوپ دو کاربرد دارد. اولا در این لوپ زمان سپری شده هرلحظه برای برنامه ی اصلی فرستاده میشود. دوما هرلحظه چک میکند که آیا آهنگ تمام شده است یا نه. که متناسب با وضعیت پخش آهنگ، تصمیم بگیرد آهنگ بعدی را به چه صورت پخش کند.


## ظاهر برنامه
پنجره شامل دکمه هایی برای پخش، توقف، وقفه، تعیین وضعیت پخش آهنگ می باشد. در زیر دکمه ها لیستی از تب ها وجود دارد که هر تب برای نشان دادن یک پلی لیست می باشد. 
دکمه ی مثبت و منفی سمت چپ برای اضافه یا حذف کردن آهنگ در پلی لیست فعلی، و دکمه ی مثبت و منفی سمت چپ برای حذف و اضافه کردن پلی لیست فعلی می باشد. در بالا هم تصویر آهنگ، کلید کم و زیاد کردن صدا و میوت و اطلاعتی دیگر مانند زمان و... نمایش داده می شود.
 همچنین از تابع retranslate برای مقداردهی متنی به ابزارها (ویجت ها) استفاده می شود.
اضافه کردن پلی لیست
با انتخاب کلید مثبت سمت راست پایین، یک پلی لیست اضافه می شود و فایلی مخصوص ذخیره کردن آدرس آهنگ های آن پلی لیست در مسیر assets/lib با فرمت json ایجاد می شود.
اضافه کردن آهنگ
با انتخاب کلید مثبت سمت چپ پایین، آدرس آهنگ در فایل مخصوص آن پلی لیست ذخیره می شود. سپس اطلاعات آن در یک دیکشنری به صورت زیر در فایل جیسون اضافه می شود:
کلید = شماره ی ایندکس(برای رعایت ترتیب آهنگ ها)
مقدار = یک لیست عنصر اول: اسم، عنصر دوم: آدرس آهنگ
آهنگ به پلی لیست اضافه میشود و به عنوان یک آیتم در پلی لیست ظاهر میشود.
سپس با دوبار کلیک بر روی آن، پخش میشود.
حذف و اضافه کردن پلی لیست و آهنگ
با انتخاب کلید منفی سمت راست پلی لیستی که در آن هستید
و با انتخاب کلید منفی سمت چپ آهنگ انتخاب شده حذف می شوند.

## توسعه دهنده

* **ِwema team**- [github ID](https://github.com/mrhashemian)
</div>
